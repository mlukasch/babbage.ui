<div class="table-babbage" ng-hide="queryLoaded">
  <div class="alert alert-info">
    <strong>You have not selected any data.</strong> Please choose a breakdown for
    your treemap.
  </div>
</div>

<div class="alert alert-warning" ng-show="cutoffWarning">
  <strong>Too many tiles.</strong> The breakdown you have selected contains many
  different categories, only the {{cutoff}} biggest are shown.
</div>

<div class="treemap-chart"></div>

<div class="treemap-list" ng-if="treeMapTable.show">
  <table class="treemap-table table-striped">
    <thead>
    <tr>
      <th>
        <a href="#" ng-click="sortType = '_name'; sortReverse = !sortReverse">
          title
          <span ng-show="sortType == '_name'" class="fa" ng-class="sortReverse ? 'fa-caret-up' : 'fa-caret-down'"></span>
        </a>
      </th>
      <th>
        <a href="#" ng-click="sortType = 'value'; sortReverse = !sortReverse">
          amount
          <span ng-show="sortType == 'value'" class="fa" ng-class="sortReverse ? 'fa-caret-up' : 'fa-caret-down'"></span>
        </a>
      </th>
      <th>
        <a href="#" ng-click="sortType = '_percentage'; sortReverse = !sortReverse">
          share
          <span ng-show="sortType == '_percentage'" class="fa" ng-class="sortReverse ? 'fa-caret-up' : 'fa-caret-down'"></span>
        </a>
      </th>
    </tr>
    </thead>
    <tbody>
    <tr ng-repeat="item in treeMapData.children | orderBy:sortType:sortReverse" class="datarow">
      <td><span class="colorbox" ng-style="{'background-color':item._color}"></span>{{ item._name }}</td>
      <td>{{ item._area_fmt }}</td>
      <td>{{ (item._percentage * 100).toFixed(2) }}%</td>
    </tr>
    </tbody>
    <tfoot>
      <tr>
        <td>Total</td>
        <td>{{ treeMapData.summary_fmt }}</td>
        <td>100%</td>
      </tr>
    </tfoot>
  </table>
</div>
